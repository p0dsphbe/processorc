基于Oracle的SQL优化 PDF下载 崔华 百度云 电子书 下载 电子书下载
PDF电子书下载不求人，看这篇文章就够了→ http://www.chendianrong.com/pdf#712121758
PDF电子书下载不求人，看这篇文章就够了→ http://www.chendianrong.com/pdf#712121758
<p>书名:基于Oracle的SQL优化</p><p>作者:崔华</p><p>页数:856</p><p>定价:¥128.0</p><p>出版社:电子工业出版社</p><p>出版日期:2014-01-01</p><p>ISBN:9787121217586</p><p><h2>本书特色</h2></p>[<p>

                                    
                                        本土oracle数据库性能优化顶级大师泣血力作<br/>
    集十数年实战修行与潜心钻研之大成<br/>
    盖国强等国内数据库一线名家联合推荐<br/>
    囊括数据库性能优化技术所有分支与脉络，讲解通俗，实例经典<br/>
<br/>
</p>]<p><h2>内容简介</h2></p>[<p>
                                    
                                        《基于oracle的sql优化》是一本与众不同的书，它的目的是使读者真正掌握如何在 oracle数据库里写出高质量的 sql语句，以及如何在 oracle数据库里对有性能问题的 sql做诊断和调整。<br/>
    《基于oracle的sql优化》从 oracle处理 sql的本质和原理入手，由浅入深、系统地介绍了 oracle数据库里的优化器、执行计划、cursor和绑定变量、查询转换、统计信息、hint和并行等这些与 sql优化息息相关的本质性内容，并辅以大量极具借鉴意义的一线 sql优化实例，阐述了作者倡导的“从本质和原理入手，以不变应万变”的优化思路，*后还介绍了作者在实际工作中总结出来的 oracle数据库里 sql优化的方法论。<br/>
    《基于oracle的sql优化》适用于使用 oracle数据库的开发人员、oracle dba和其他对 oracle数据库感兴趣的人员，也可以作为各院校相关专业的教学辅导和参考用书，或作为相关培训机构的培训教材。<br/>
<br/> </p>]<p><h2>作者简介</h2></p>[<p>
                                    
                                        崔华，网名dbsnake，Oracle ACE, ACOUG成员。
    资深Oracle数据库工程师，拥有Oracle数据库技术各个领域的经验，尤其是在Oracle数据库性能优化与备份恢复方面经验丰富。
    他与其他人合作编写了多本Oracle技术书籍，他经常在Oracle相关活动中发表演讲并在自己的博客上撰写了大量技术文章。                                    </p>]<p><h2>目录</h2></p>
                                    第 1章  oracle里的优化器 ...................................1 1.1 什么是 oracle里的优化器 ...........................1 1.1.1 基于规则的优化器............................2 1.1.2 基于成本的优化器........................9 1.1.2.1 集的势 ..............................11 1.1.2.2 可选择率 ...............................11 1.1.2.3 可传递性..............................16 1.1.2.4 cbo的局限性...................................18 1.2 优化器的基础知识 .......................19 1.2.1 优化器的模式..................................19 1.2.2 结果集............................21 1.2.3 访问数据的方法................................22 1.2.3.1 访问表的方法.............................22 1.2.3.1.1 全表扫描 ....................................22 1.2.3.1.2 rowid扫描 .....................................23 1.2.3.2 访问索引的方法 .....................................24 1.2.3.2.1 索引唯一性扫描 ...............................25 1.2.3.2.2 索引范围扫描 .......................................25 1.2.3.2.3 索引全扫描 ......................................28 1.2.3.2.4 索引快速全扫描 ...............................29 1.2.3.2.5 索引跳跃式扫描 ...............................31 1.2.4 表连接..........................33 1.2.4.1 表连接的类型......................................34 1.2.4.1.1 内连接.............................................34 1.2.4.1.2 外连接.................................................37 1.2.4.2 表连接的方法............................................47 1.2.4.2.1 排序合并连接 ..................................47 1.2.4.2.2 嵌套循环连接 ...................................48 1.2.4.2.3 哈希连接 ..........................................51 1.2.4.2.4 笛卡儿连接 ......................................56 1.2.4.3 反连接 ...........................................58 1.2.4.4 半连接 ................................63 1.2.4.5 星型连接............................................65 1.3 优化器模式对 cbo计算成本带来巨大影响的实例...............66 1.4 总结.......................80第 2章  oracle里的执行计划 ........................... 82 2.1 什么是执行计划.................................82 2.2 如何查看执行计划 ..........................85 2.2.1 explain plan命令....................................86 2.2.2 dbms_xplan包............................89 2.2.3 autotrace开关 ...............................95 2.2.4 10046事件与 tkprof命令.............................99 2.3 如何得到真实的执行计划..................................102 2.4 如何查看执行计划的执行顺序.............................118 2.5 oracle里的常见执行计划 .......................122 2.5.1 与表访问相关的执行计划.................................122 2.5.2 与 b树索引相关的执行计划.................................124 2.5.3 与位图索引相关的执行计划...................................129 2.5.4 与表连接相关的执行计划.......................................138 2.5.5 其他典型的执行计划...............................................146 2.5.5.1 and-equal（index merge）.....................146 index join ................................1482.5.5.2 view.......................1492.5.5.3filter ..................................1512.5.5.4 sort ....................................1542.5.5.5 2.5.5.6 union/union all......................167 concat..................................................1682.5.5.7 connect by...................................................1712.5.5.8 2.6 oracle里执行计划的稳定 ................................172 2.6.1 使用 sql profile来稳定执行计划 ...........................173 2.6.1.1 automatic类型的 sql profile ...............................173 2.6.1.2 manual类型的 sql profile......................................179 2.6.2 使用 spm来稳定执行计划........................................190 2.7 总结..............................203第 3章  oracle里的 cursor和绑定变量 ......................... 204 3.1 oracle里的 cursor.............................204 3.1.1 oracle里的 shared cursor.............................204 3.1.1.1 shared cursor的含义 ..........................................204 3.1.1.2 硬解析 ................................................212 3.1.1.3 软解析 ...................................214 3.1.2 oracle里的 session cursor..............................215 3.1.2.1 session cursor的含义 .....................................215 3.1.2.2 session cursor的相关参数解析...........................218 open_cursors.........................................2183.1.2.2.1 session_cached_cursors ............................2193.1.2.2.2cursor_space_for_time ..............................2213.1.2.2.3 3.1.2.3 session cursor的种类和用法 .............................222 3.1.2.3.1 隐式游标 ........................................222 3.1.2.3.2 显式游标 ........................................225 3.1.2.3.3 参考游标 ........................................230 3.2 oracle里的绑定变量 ...............................237 3.2.1 绑定变量的作用....................................237 3.2.2 绑定变量的典型用法.........................................238 3.2.3 绑定变量的使用原则和*佳实践..............................245 3.2.3.1 pl/sql批量绑定模板一 ...................................245 3.2.3.2 pl/sql批量绑定模板二 .....................................247 3.2.4 绑定变量窥探............................................258 3.2.5 绑定变量分级..................................270 3.2.6 绑定变量的个数不宜太多........................................276 3.2.7 批量绑定时如何处理错误.......................................280 3.2.8 如何得到已执行的目标 sql中绑定变量的值 ..........283 3.3 oracle里的游标共享 .......288 3.3.1 常规游标共享..............................289 3.3.2 自适应游标共享........................297 3.4 oracle里的应用类型 ...............................320 3.4.1 session cursor的生命周期.........................................320 3.4.2 应用类型一（硬解析）................................................322 3.4.3 应用类型二（软解析）...............................................323 3.4.4 应用类型三（软软解析）..........................................323 3.4.5 应用类型四（一次解析、多次执行）....................324 3.4.6 四种应用类型的实测性能对比..............................325 3.5 总结.............................333第 4章  oracle里的查询转换 .......................... 335 4.1 oracle里查询转换的作用 ................335 4.2 子查询展开.................................336 4.3 视图合并............................344 4.3.1 简单视图合并...........................345 4.3.2 外连接视图合并..................351 4.3.3 复杂视图合并.....................354 4.4 星型转换.....................365 4.5 连接谓词推入 ................372 4.6 连接因式分解 ................379 4.7 表扩展 .......................387 4.8 表移除 .............396 4.9 oracle如何处理 sql语句中的 in.............401 in-list iterator .................4024.9.1 4.9.2 in-list expansion / or expansion ................404 in-list filter .............4094.9.3 4.9.4 对 in做子查询展开/视图合并 .............410 4.10 查询转换的综合应用实例（逻辑读从 200万降到 6） .....413 4.11总结..............................420第 5章  oracle里的统计信息 ........ 422 5.1 什么是 oracle里的统计信息...........422 5.2 oracle里收集与查看统计信息的方法 .............423 5.2.1 收集统计信息...................423 5.2.1.1 用 analyze命令收集统计信息...........423 5.2.1.2 用 dbms_stats包收集统计信息..........428 5.2.1.3 analyze和 dbms_stats的区别........432 5.2.2 查看统计信息................433 5.3 表的统计信息 ..............435 5.3.1 表统计信息的种类和含义.........435 5.3.2 表统计信息不准导致 sql性能问题的实例 .................437 5.4 索引的统计信息..............440 5.4.1 索引统计信息的种类和含义.................440 5.4.2 聚簇因子的含义及重要性............442 5.5 列的统计信息 ..................450 5.5.1 列统计信息的种类和含义..............450 5.5.2 列统计信息不准导致谓词越界的实例..........454 5.5.3 直方图........................460 5.5.3.1 直方图的含义...............460 5.5.3.2 直方图的类型.................462 5.5.3.2.1 frequency类型的直方图 ...........463 5.5.3.2.2 height balanced类型的直方图 ..................471 5.5.3.3 直方图的收集方法................................475 5.5.3.4 直方图对 cbo的影响 ....................477 5.5.3.4.1 直方图对 shared cursor的影响 .............477 5.5.3.4.2 直方图对可选择率的影响 ................482 5.5.3.5 使用直方图的注意事项...........................495 5.6 全局统计信息 ............................496 5.7 动态采样............................507 5.8 多列统计信息 ...........................516 5.9 系统统计信息 .............................519 5.10 数据字典统计信息..................536 5.11内部对象统计信息 .............................539 5.12 oracle里的自动统计信息收集 .........................546 5.13 oracle里应如何收集统计信息 ..........................563 5.14 总结.........................567第 6章  oracle里的 hint..................... 568 6.1 什么是 hint .....................568 6.2 hint的用法 ...............................576 6.3 hint被 oracle忽略的常见情形 ...............590 6.3.1 情形一：使用的 hint有语法或者拼写错误.................591 6.3.2 情形二：使用的 hint无效.........................592 6.3.3 情形三：使用的 hint自相矛盾..............597 6.3.4 情形四：使用的 hint受到了查询转换的干扰...........599 6.3.5 情形五：使用的 hint受到了保留关键字的干扰.........602 6.4 常见的 hint ...............605 6.4.1 与优化器模式相关的 hint................606 6.4.1.1 all_rows ...............606 6.4.1.2 first_rows(n)...................606 rule........................6086.4.1.3 6.4.2 与表访问相关的 hint...................615 full .......................6156.4.2.1 rowid .............6156.4.2.2 6.4.3 与索引访问相关的 hint...................615 index .........................6156.4.3.1 no_index .....................6166.4.3.2 index_desc ...............6176.4.3.3 index_combine................6186.4.3.4 index_ffs ..................6206.4.3.5 6.4.3.6 index_join.............621 6.4.3.7 and_equal.....................622 6.4.4 与表连接顺序相关的 hint...................624 ordered ................................6246.4.4.1 leading ........................6266.4.4.2 6.4.5 与表连接方法相关的 hint.............628 6.4.5.1 use_merge ............628 no_use_merge .............6316.4.5.2 use_nl............6336.4.5.3 no_use_nl .................6346.4.5.4 use_hash.............6356.4.5.5 no_use_hash ..........6356.4.5.6 6.4.5.7 merge_aj.........636 nl_aj............................6376.4.5.8 hash_aj.................6376.4.5.9 merge_sj....................6376.4.5.10 nl_sj...........................6386.4.5.11hash_sj .......................6396.4.5.12 6.4.6 与查询转换相关的 hint .....................639 use_concat ...............6396.4.6.1 no_expand ...............6406.4.6.2 merge................6426.4.6.3 no_merge................6426.4.6.4 unnest ....................6436.4.6.5 6.4.6.6 no_unnest........................643 expand_table .................................6446.4.6.7 no_expand_table .......................6446.4.6.8 6.4.7 与并行相关的 hint ...........................645 parallel...................................6456.4.7.1 no_parallel ................................6526.4.7.2 6.4.7.3 parallel_index ................................654 no_parallel_index......................................6566.4.7.4 6.4.8 其他常见 hint ............................656 driving_site..............................6566.4.8.1 append ...........................................6596.4.8.2 append_values ........................................6626.4.8.3 6.4.8.4 push_pred .......................664 no_push_pred ................................6666.4.8.5 6.4.8.6 push_subq....................................666 6.4.8.7 no_push_subq................669 opt_param ..............................................6706.4.8.8 optimizer_features_enable ...............................6726.4.8.9 6.4.8.10 qb_name ........................................674 cardinality .................................6746.4.8.11swap_join_inputs .............................6776.4.8.12 6.5 用 cardinality hint解决 ora-01555错误的实例...............682 6.6 总结...............................693第 7章  oracle里的并行 ..................... 695 7.1 oracle里并行的基本概念 ...............695 7.1.1 为什么要用并行.................695 7.1.2 并行的理论基础....................696 7.1.3 oracle里能够并行执行的操作...............697 7.1.4 oracle里与并行有关的术语及解释 ..................707 7.1.4.1 query coordinator .............708 7.1.4.2 query slaves和 query slave set.............708 7.1.4.3 table queues.........716 7.1.4.4 数据传递方法.............721 7.1.4.5 granules............735 7.1.4.6 直接读取 ............737 7.1.5 深入解析并行执行计划的实例.............746 7.2 oracle里并行的控制 ..........755 7.2.1 oracle里如何开启并行 .............755 7.2.2 oracle里并行度的控制 .............760 7.2.3 oracle rac环境下的并行...........771 7.2.4 oracle里与并行相关的参数 ..............775 parallel_max_servers .........7757.2.4.1 parallel_min_servers ......................7767.2.4.2 7.2.4.3 自动并行相关的参数 ...................776 parallel_degree_policy ................................7767.2.4.3.1 parallel_min_time_threshold ...................................7767.2.4.3.2 7.2.4.3.3 parallel_degree_limit ..................777 parallel_servers_target..................................7777.2.4.3.4 7.2.4.4 自适应并行相关的参数...............778 parallel_adaptive_multi_user ...............7787.2.4.4.1 parallel_min_percent ........................7787.2.4.4.2 parallel_automatic_tuning .........7787.2.4.4.3 7.2.4.5 其他参数 ............................778 parallel_threads_per_cpu ...................................7787.2.4.5.1 parallel_execution_message_size.............7797.2.4.5.2 parallel_force_local.........................7797.2.4.5.3 7.2.5 绕开 oracle并行执行 bug大幅提升性能的实例 ................779 7.3 总结..........................805第 8章  oracle里 sql优化的方法论 ................... 807 8.1 oracle里如何做 sql优化...................807 8.1.1 oracle里 sql优化的本质是基于对 cbo和执行计划的深刻理解 ......807 8.1.2 oracle里 sql优化需要联系实际的业务 ...................819 8.1.3 oracle里 sql优化需要适时使用绑定变量 ............824 8.2 oracle里 sql优化的方法论在实战中的验证...............824 8.3 总结......................841
